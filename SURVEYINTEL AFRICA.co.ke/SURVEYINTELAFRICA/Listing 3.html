<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Property Listing Form</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background: linear-gradient(135deg, #f7f7a1 0%, #b5e48c 100%);
      min-height: 100vh;
      font-family: 'Segoe UI', sans-serif;
    }
    .mirror-navbar {
      background: linear-gradient(90deg, #f7f700 0%, #b5e48c 100%);
      box-shadow: 0 4px 16px rgba(0,0,0,0.08), 0 1.5px 0 #fff inset;
      border-radius: 16px;
      margin-bottom: 2rem;
      overflow: hidden;
      display: flex;
      justify-content: center;
      position: sticky;
      top: 0;
      z-index: 10;
    }
    .mirror-navbar .nav-link {
      color: #333;
      font-weight: 600;
      padding: 1rem 2.5rem;
      border-right: 1px solid #e5e50044;
      background: rgba(255,255,255,0.12);
      transition: color 0.2s, background 0.2s, box-shadow 0.2s;
      text-shadow: 0 2px 12px #fff8, 0 1px 0 #e5e500cc;
    }
    .mirror-navbar .nav-link:last-child {
      border-right: none;
    }
    .mirror-navbar .nav-link.active,
    .mirror-navbar .nav-link:hover {
      color: #fff;
      background: linear-gradient(90deg, #f7f700 60%, #b5e48c 100%);
      box-shadow: 0 0 20px 5px #fff70088, 0 0 10px 2px #b5e48c66;
      text-shadow: 0 2px 16px #fff, 0 1px 0 #b5e48c;
    }
    .step-section {
      display: none;
      animation: fadeIn 0.6s;
    }
    .step-section.active {
      display: block;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateX(-20px);}
      to { opacity: 1; transform: translateX(0);}
    }
    .btn-custom {
      background: linear-gradient(90deg, #f7f700 60%, #b5e48c 100%);
      color: #333;
      font-weight: 700;
      border: none;
      box-shadow: 0 2px 12px #f7f70044;
      transition: transform 0.2s, box-shadow 0.2s;
    }
    .btn-custom:hover, .btn-custom:focus {
      color: #fff;
      transform: scale(1.07);
      box-shadow: 0 0 25px 8px #fff700cc, 0 0 10px 2px #b5e48c99;
      outline: none;
    }
    .btn-glow {
      background: #b5e48c;
      color: #fff;
      font-weight: 700;
      border: none;
      box-shadow: 0 0 10px 2px #b5e48c99;
      transition: transform 0.2s, box-shadow 0.2s;
    }
    .btn-glow:hover, .btn-glow:focus {
      color: #333;
      background: #f7f700;
      transform: scale(1.07);
      box-shadow: 0 0 25px 8px #b5e48c, 0 0 10px 2px #f7f70099;
      outline: none;
    }
    .form-label {
      font-weight: 600;
      color: #333;
    }
    .form-control:focus, .form-select:focus {
      border-color: #f7f700;
      box-shadow: 0 0 10px #b5e48c66;
    }
    .stepper-indicator {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 2rem;
    }
    .stepper-indicator .circle {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: #fff;
      border: 2px solid #b5e48c;
      color: #b5e48c;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      margin: 0 8px;
      transition: background 0.2s, color 0.2s, border 0.2s;
    }
    .stepper-indicator .circle.active,
    .stepper-indicator .circle.completed {
      background: linear-gradient(90deg, #f7f700 60%, #b5e48c 100%);
      color: #333;
      border-color: #f7f700;
      box-shadow: 0 0 10px #f7f70066;
    }
    .stepper-indicator .circle.completed {
      background: #b5e48c;
      color: #fff;
      border-color: #b5e48c;
      box-shadow: 0 0 10px #b5e48c88;
    }
    /* Responsive */
    @media (max-width: 768px) {
      .mirror-navbar .nav-link {
        padding: 0.7rem 1rem;
        font-size: 1rem;
      }
      .stepper-indicator .circle {
        width: 26px;
        height: 26px;
        font-size: 1rem;
      }
    }
  </style>
</head>
<body>
  <div class="container mt-4 mb-5">
    <h2 class="mb-4 text-center" style="color:#333; text-shadow:0 2px 12px #fff70044;">List Your Property</h2>
    <!-- Step Navigation Bar -->
    <nav class="mirror-navbar mb-4">
      <a class="nav-link active" href="#" data-step="0">1. Owner Info</a>
      <a class="nav-link" href="#" data-step="1">2. Property Details</a>
      <a class="nav-link" href="#" data-step="2">3. Location</a>
      <a class="nav-link" href="#" data-step="3">4. Photos</a>
      <a class="nav-link" href="#" data-step="4">5. Payment</a>
    </nav>
    <!-- Stepper Indicator -->
    <div class="stepper-indicator mb-4">
      <div class="circle active" data-step="0">1</div>
      <div class="circle" data-step="1">2</div>
      <div class="circle" data-step="2">3</div>
      <div class="circle" data-step="3">4</div>
      <div class="circle" data-step="4">5</div>
    </div>
    <form id="listingForm" enctype="multipart/form-data" autocomplete="off">
      <!-- Step 1: Owner Info -->
      <div class="step-section active" id="step-0">
        <div class="mb-3">
          <label for="fullName" class="form-label">Full Name</label>
          <input type="text" class="form-control" id="fullName" required>
        </div>
        <div class="mb-3">
          <label for="contactNumber" class="form-label">Contact Number</label>
          <input type="tel" class="form-control" id="contactNumber" required>
        </div>
        <div class="mb-3">
          <label for="fullName" class="form-label">Agent/ Caretaker Name</label>
          <input type="text" class="form-control" id="fullName" required>
        </div>
        <div class="mb-3">
          <label for="contactNumber" class="form-label">Address/ Contact Number</label>
          <input type="tel" class="form-control" id="contactNumber" required>
        </div>
        <div class="d-flex justify-content-end">
          <button type="button" class="btn btn-custom" id="nextBtn0">Next &rarr;</button>
        </div>
      </div>
      <!-- Step 2: Property Details -->
      <div class="step-section" id="step-1">
        <div class="row">
          <div class="col-md-6 mb-3">
            <label class="form-label">County</label>
            <input type="text" class="form-control" id="county" required>
          </div>
          <div class="col-md-6 mb-3">
            <label class="form-label">Area/Location</label>
            <input type="text" class="form-control" id="area" required>
          </div>
        </div>
        <div class="mb-3">
          <label class="form-label">Property Type</label>
          <select class="form-select" id="propertyType" required>
            <option value="">Select Type</option>
            <option value="apartment">Apartment</option>
            <option value="land">Land</option>
          </select>
        </div>
        <!-- Apartment Fields -->
        <div id="apartmentFields" class="mb-3" style="display: none;">
          <label class="form-label">Property Size</label>
          <select class="form-select" id="propertySize">
            <option value="single">Single</option>
            <option value="bedsitter">Bedsitter</option>
            <option value="1bedroom">1 Bedroom</option>
            <option value="2bedroom">2 Bedrooms</option>
            <option value="studio">Studio Apartment</option>
            <option value="bungalow">Bungalow</option>
          </select>
          <label class="form-label mt-2">Floor</label>
          <select class="form-select" id="floor">
            <option value="1st">1st Floor</option>
            <option value="2nd">2nd Floor</option>
            <option value="3rd">3rd Floor</option>
          </select>
        </div>
        <!-- Land Fields -->
        <div id="landFields" class="mb-3" style="display: none;">
          <label class="form-label">Land Size</label>
          <select class="form-select" id="landSize">
            <option value="50x100">50 x 100</option>
            <option value="100x100">100 x 100</option>
            <option value="custom">Enter Area</option>
          </select>
          <input type="text" class="form-control mt-2" id="customLandArea" placeholder="Enter land area" style="display: none;">
        </div>
        <div class="mb-3">
          <label class="form-label">Value (Rent or Selling Price)</label>
          <input type="number" class="form-control" id="value" required>
          <div class="form-check mt-1">
            <input class="form-check-input" type="checkbox" id="negotiable">
            <label class="form-check-label" for="negotiable">Negotiable</label>
          </div>
        </div>
        <div class="d-flex justify-content-between">
          <button type="button" class="btn btn-glow" id="prevBtn1">&larr; Back</button>
          <button type="button" class="btn btn-custom" id="nextBtn1">Next &rarr;</button>
        </div>
      </div>
      <!-- Step 3: Location -->
      <div class="step-section" id="step-2">
        <label class="form-label"><strong>Google Live Location Pin</strong></label>
        <div class="d-flex flex-column gap-3">
          <a href="https://www.google.com/maps" target="_blank" class="btn btn-custom">
            Open Google Maps to Get/Drop Pin Location
          </a>
          <div class="row">
            <div class="col-md-6 mb-3">
              <label class="form-label">Latitude</label>
              <input type="text" id="latitude" name="latitude" class="form-control" placeholder="-1.2921" required>
            </div>
            <div class="col-md-6 mb-3">
              <label class="form-label">Longitude</label>
              <input type="text" id="longitude" name="longitude" class="form-control" placeholder="36.8219" required>
            </div>
          </div>
          <button type="button" class="btn btn-glow" onclick="getCurrentLocation()">Use My Current Location</button>
        </div>
        <div class="d-flex justify-content-between mt-4">
          <button type="button" class="btn btn-glow" id="prevBtn2">&larr; Back</button>
          <button type="button" class="btn btn-custom" id="nextBtn2">Next &rarr;</button>
        </div>
      </div>
      <!-- Step 4: Photos -->
     
<div class="step-section" id="step-3">
    <label class="form-label">Upload Photos</label>
    <div class="row mb-3">
      <div class="col-md-4 mb-2">
        <input type="file" name="frontView" accept="image/*" class="form-control" id="frontView" required>
        <small class="form-text text-muted">Front View</small>
      </div>
      <div class="col-md-4 mb-2">
        <input type="file" name="leftView" accept="image/*" class="form-control" id="leftView" required>
        <small class="form-text text-muted">Left View</small>
      </div>
      <div class="col-md-4 mb-2">
        <input type="file" name="rightView" accept="image/*" class="form-control" id="rightView" required>
        <small class="form-text text-muted">Right View</small>
      </div>
    </div>
    <div class="d-flex justify-content-center mb-3">
      <button type="button" class="btn btn-custom" id="uploadPhotosBtn">
        <span style="vertical-align:middle;">&#8682;</span> Upload Selected Photos
      </button>
    </div>
    <div class="d-flex justify-content-between">
      <button type="button" class="btn btn-glow" id="prevBtn3">&larr; Back</button>
      <button type="button" class="btn btn-custom" id="nextBtn3">Next &rarr;</button>
    </div>
  </div>
  
      <!-- Step 5: Payment -->
      <div class="step-section" id="step-4">
        <h5 class="mb-3" style="color:#333;">Payment Summary</h5>
        <p>Total Charges: <strong style="color:#b5e48c;">Ksh <span id="totalCharge">0</span></strong></p>
        <label class="form-label">Enter M-Pesa Number</label>
        <input type="tel" class="form-control mb-2" id="mpesaNumber" required>
        <div class="d-flex justify-content-center mb-3">
          <button type="button" class="btn btn-custom" id="payBtn">Pay via M-Pesa</button>
        </div>
        <div class="d-flex justify-content-between">
          <button type="button" class="btn btn-glow" id="prevBtn4">&larr; Back</button>
          <button type="button" class="btn btn-custom" id="submitPropertyBtn" disabled>Submit Property</button>
        </div>
      </div>
    </form>
  </div>
  <script>
    // Step navigation logic
    const steps = Array.from(document.querySelectorAll('.step-section'));
    const navLinks = Array.from(document.querySelectorAll('.mirror-navbar .nav-link'));
    const circles = Array.from(document.querySelectorAll('.stepper-indicator .circle'));
    let currentStep = 0;

    function showStep(step) {
      steps.forEach((sec, idx) => {
        sec.classList.toggle('active', idx === step);
      });
      navLinks.forEach((link, idx) => {
        link.classList.toggle('active', idx === step);
      });
      circles.forEach((circle, idx) => {
        circle.classList.toggle('active', idx === step);
        circle.classList.toggle('completed', idx < step);
      });
      currentStep = step;
    }

    navLinks.forEach((link, idx) => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        if (idx <= currentStep) showStep(idx);
      });
    });

    document.getElementById('nextBtn0').onclick = () => showStep(1);
    document.getElementById('prevBtn1').onclick = () => showStep(0);
    document.getElementById('nextBtn1').onclick = () => showStep(2);
    document.getElementById('prevBtn2').onclick = () => showStep(1);
    document.getElementById('nextBtn2').onclick = () => showStep(3);
    document.getElementById('prevBtn3').onclick = () => showStep(2);
    document.getElementById('nextBtn3').onclick = () => showStep(4);
    document.getElementById('prevBtn4').onclick = () => showStep(3);

    // Property type logic
    document.getElementById('propertyType').addEventListener('change', function () {
      const type = this.value;
      document.getElementById('apartmentFields').style.display = type === 'apartment' ? 'block' : 'none';
      document.getElementById('landFields').style.display = type === 'land' ? 'block' : 'none';
    });

    document.getElementById('landSize').addEventListener('change', function () {
      const isCustom = this.value === 'custom';
      document.getElementById('customLandArea').style.display = isCustom ? 'block' : 'none';
    });

    // Geolocation
    function getCurrentLocation() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(function (position) {
          document.getElementById('latitude').value = position.coords.latitude.toFixed(6);
          document.getElementById('longitude').value = position.coords.longitude.toFixed(6);
        }, function () {
          alert('Unable to retrieve your location.');
        });
      } else {
        alert('Geolocation is not supported by your browser.');
      }
    }
    window.getCurrentLocation = getCurrentLocation;

    // Payment simulation
    document.getElementById('payBtn').addEventListener('click', function () {
      const number = document.getElementById('mpesaNumber').value;
      const charge = document.getElementById('totalCharge').textContent;
      if (!number) return alert('Please enter M-Pesa number');
      alert(`STK Push sent to ${number} for Ksh ${charge}. Wait for confirmation.`);
      document.getElementById('submitPropertyBtn').disabled = false;
    });

    document.getElementById('submitPropertyBtn').addEventListener('click', function () {
      alert('Property submitted successfully!');
      // Optionally, reset form or redirect
    });

    // Simple charge calculation (for demo)
    document.getElementById('value').addEventListener('input', function () {
      let v = parseInt(this.value, 10) || 0;
      document.getElementById('totalCharge').textContent = Math.max(100, Math.round(v * 0.01));
    });

    // Prevent form submission
    document.getElementById('listingForm').addEventListener('submit', function (e) {
      e.preventDefault();
    });
  </script>
</body>
</html>
